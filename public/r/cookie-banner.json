{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "cookie-banner",
  "type": "registry:block",
  "title": "Cookie Banner",
  "description": "Beautiful GDPR compliant cookie banner.",
  "files": [
    {
      "path": "components/blocks/cookie-banner.tsx",
      "content": "\"use client\";\n\nimport { useState, useEffect, FC } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { X, Cookie, Settings } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ntype CookieBannerSize = \"sm\" | \"default\" | \"lg\";\n\ntype Props = {\n  size?: CookieBannerSize;\n  onAccept?: () => void;\n  onDecline?: () => void;\n  className?: string;\n};\n\nconst encodeBase64 = (data: string): string => {\n  if (typeof window !== \"undefined\") {\n    return btoa(data);\n  }\n  return data;\n};\n\nexport const CookieBanner: FC<Props> = ({\n  size = \"default\",\n  onAccept,\n  onDecline,\n  className,\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [preferences, setPreferences] = useState({\n    necessary: true,\n    analytics: false,\n    marketing: false,\n  });\n\n  useEffect(() => {\n    const cookieConsent = localStorage.getItem(\"cookie-consent\");\n    if (!cookieConsent) {\n      const timer = setTimeout(() => setIsVisible(true), 500);\n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const handleAcceptAll = () => {\n    setIsClosing(true);\n    localStorage.setItem(\"cookie-consent\", encodeBase64(\"all\"));\n    onAccept?.();\n    setTimeout(() => setIsVisible(false), 300);\n  };\n\n  const handleDeclineAll = () => {\n    setIsClosing(true);\n    localStorage.setItem(\"cookie-consent\", encodeBase64(\"necessary\"));\n    onDecline?.();\n    setTimeout(() => setIsVisible(false), 300);\n  };\n\n  const handleSavePreferences = () => {\n    setIsClosing(true);\n    localStorage.setItem(\n      \"cookie-consent\",\n      encodeBase64(JSON.stringify(preferences)),\n    );\n    onAccept?.();\n    setTimeout(() => setIsVisible(false), 300);\n  };\n\n  if (!isVisible) return null;\n\n  const sizeClasses = {\n    sm: \"max-w-sm p-4 gap-3\",\n    default: \"max-w-md p-5 gap-4\",\n    lg: \"max-w-2xl p-6 gap-5\",\n  };\n\n  const textSizes = {\n    sm: \"text-xs\",\n    default: \"text-sm\",\n    lg: \"text-base\",\n  };\n\n  const headingSizes = {\n    sm: \"text-sm font-semibold\",\n    default: \"text-base font-semibold\",\n    lg: \"text-lg font-semibold\",\n  };\n\n  const buttonSizes = {\n    sm: \"h-8 text-xs\",\n    default: \"h-9 text-sm\",\n    lg: \"h-10 text-base\",\n  };\n\n  return (\n    <Card\n      className={cn(\n        \"fixed bottom-4 left-1/2 z-50 shadow-2xl border-border/50 flex flex-col w-[calc(100%-2rem)]\",\n        sizeClasses[size],\n        isClosing\n          ? \"translate-y-[120%] -translate-x-1/2 opacity-0 transition-all duration-300 ease-in\"\n          : \"translate-y-0 -translate-x-1/2 opacity-100 transition-all duration-500 ease-out\",\n        className,\n      )}\n    >\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"flex items-center gap-2\">\n          <Cookie\n            className={cn(\"shrink-0\", size === \"lg\" ? \"h-6 w-6\" : \"h-5 w-5\")}\n          />\n          <h3 className={cn(headingSizes[size], \"text-foreground\")}>\n            Cookie Preferences\n          </h3>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className={cn(\n            \"shrink-0 hover:bg-accent\",\n            size === \"sm\" ? \"h-7 w-7\" : \"h-8 w-8\",\n          )}\n          onClick={handleDeclineAll}\n        >\n          <X className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {!showSettings ? (\n        <>\n          <p\n            className={cn(\n              textSizes[size],\n              \"text-muted-foreground leading-relaxed\",\n            )}\n          >\n            We use cookies to enhance your browsing experience, serve\n            personalized content, and analyze our traffic. By clicking \"Accept\n            All\", you consent to our use of cookies.{\" \"}\n            <a href=\"/privacy\" className=\"underline hover:text-foreground\">\n              Privacy Policy\n            </a>\n          </p>\n\n          <div\n            className={cn(\n              \"flex gap-2\",\n              size === \"sm\" ? \"flex-col\" : \"flex-wrap\",\n            )}\n          >\n            <Button\n              onClick={handleAcceptAll}\n              className={cn(buttonSizes[size], \"flex-1 min-w-[120px]\")}\n            >\n              Accept All\n            </Button>\n            <Button\n              onClick={handleDeclineAll}\n              variant=\"outline\"\n              className={cn(buttonSizes[size], \"flex-1 min-w-[120px]\")}\n            >\n              Decline All\n            </Button>\n            <Button\n              onClick={() => setShowSettings(true)}\n              variant=\"ghost\"\n              className={cn(buttonSizes[size], \"gap-2\")}\n            >\n              <Settings className=\"h-4 w-4\" />\n              Customize\n            </Button>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <p\n                  className={cn(textSizes[size], \"font-medium text-foreground\")}\n                >\n                  Necessary Cookies\n                </p>\n                <p\n                  className={cn(\n                    \"text-xs text-muted-foreground\",\n                    size === \"lg\" && \"text-sm\",\n                  )}\n                >\n                  Required for the website to function\n                </p>\n              </div>\n              <div className=\"shrink-0 px-2 py-1 bg-muted rounded text-xs font-medium\">\n                Always On\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <p\n                  className={cn(textSizes[size], \"font-medium text-foreground\")}\n                >\n                  Analytics Cookies\n                </p>\n                <p\n                  className={cn(\n                    \"text-xs text-muted-foreground\",\n                    size === \"lg\" && \"text-sm\",\n                  )}\n                >\n                  Help us improve our website\n                </p>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.analytics}\n                  onChange={(e) =>\n                    setPreferences({\n                      ...preferences,\n                      analytics: e.target.checked,\n                    })\n                  }\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-muted peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-ring rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary\"></div>\n              </label>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <p\n                  className={cn(textSizes[size], \"font-medium text-foreground\")}\n                >\n                  Marketing Cookies\n                </p>\n                <p\n                  className={cn(\n                    \"text-xs text-muted-foreground\",\n                    size === \"lg\" && \"text-sm\",\n                  )}\n                >\n                  Used for personalized advertising\n                </p>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.marketing}\n                  onChange={(e) =>\n                    setPreferences({\n                      ...preferences,\n                      marketing: e.target.checked,\n                    })\n                  }\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-muted peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-ring rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary\"></div>\n              </label>\n            </div>\n          </div>\n\n          <div className={cn(\"flex gap-2\", size === \"sm\" ? \"flex-col\" : \"\")}>\n            <Button\n              onClick={handleSavePreferences}\n              className={cn(buttonSizes[size], \"flex-1\")}\n            >\n              Save Preferences\n            </Button>\n            <Button\n              onClick={() => setShowSettings(false)}\n              variant=\"outline\"\n              className={cn(buttonSizes[size], \"flex-1\")}\n            >\n              Back\n            </Button>\n          </div>\n        </>\n      )}\n    </Card>\n  );\n};\n",
      "type": "registry:component"
    }
  ]
}